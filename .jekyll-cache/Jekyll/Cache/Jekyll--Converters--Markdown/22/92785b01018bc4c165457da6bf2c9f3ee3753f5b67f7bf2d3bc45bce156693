I"ª-<p>åœ¨æˆ‘å…³äºæ²‰é»˜çš„èºæ—‹çš„ç ”ç©¶ä¸­ï¼Œæ¶‰åŠåˆ°å¤šä¸»ä½“å»ºæ¨¡åœ¨ä¸åŒæ¡ä»¶ä¸‹çš„è¿è¡Œç»“æœã€‚æ¯”å¦‚ï¼Œæ£€éªŒäººå£æ€»æ•°é‡å¯¹äºåŠ é€Ÿæ²‰é»˜çš„èºæ—‹çš„å½±å“ï¼Œæˆ‘åœ¨äººå£ä¸º1000ï¼Œ 1500ï¼Œ 2000æ¡ä»¶ä¸‹å„æ¨¡æ‹Ÿ100æ¬¡ï¼Œç›´åˆ°90%çš„ä¸ªä½“æ²‰é»˜ï¼Œæ¯ä¸€æ¬¡è¿è¡Œæ‰åœæ­¢ã€‚æˆ‘å‡è®¾ï¼šäººå£æ€»é‡è¶Šå¤§ï¼Œæ²‰é»˜å¾—è¶Šå¿«ã€‚</p>

<p>ä¸‰ä¸ªæ•°æ®ä¸‹è½½é“¾æ¥è§ï¼š</p>

<ul>
  <li>http://7lrzgn.com1.z0.glb.clouddn.com/RQ5P1000.csv</li>
  <li>http://7lrzgn.com1.z0.glb.clouddn.com/RQ5P1500.csv</li>
  <li>http://7lrzgn.com1.z0.glb.clouddn.com/RQ5P2000.csv</li>
</ul>

<p>æœ¬æ–‡å°†ä»‹ç»å¦‚ä½•ä½¿ç”¨Rè½¯ä»¶ä¸­çš„ggplot2å±•ç¤ºä¸åŒå‚æ•°æ¡ä»¶ä¸‹å¤šä¸»ä½“å»ºæ¨¡çš„æ•°æ®ï¼Œä¸»è¦åŒ…æ‹¬æ•°æ®è¯»å–ã€æ•°æ®æ¸…æ´—å’Œæ•°æ®å¯è§†åŒ–ä¸‰ä¸ªç¯èŠ‚ã€‚</p>

<p>é¦–å…ˆï¼Œè¯»å–ä¸‰ä¸ªæ•°æ®</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">p1000</span><span class="o">&lt;-</span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"RQ5P1000.CSV"</span><span class="p">,</span><span class="w">  </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">","</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactor</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">p1500</span><span class="o">&lt;-</span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"RQ5P1500.CSV"</span><span class="p">,</span><span class="w">  </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">","</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactor</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span><span class="n">p2000</span><span class="o">&lt;-</span><span class="n">read.csv</span><span class="p">(</span><span class="s2">"RQ5P2000.CSV"</span><span class="p">,</span><span class="w">  </span><span class="n">header</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">T</span><span class="p">,</span><span class="w"> </span><span class="n">sep</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">","</span><span class="p">,</span><span class="w"> </span><span class="n">stringsAsFactor</span><span class="o">=</span><span class="kc">TRUE</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>ç¬¬äºŒæ­¥ï¼Œå°†å®½çš„æ•°æ®è½¬æˆé•¿çš„æ•°æ®</p>

<p>ä½¿ç”¨reshapeåŒ…é‡Œçš„meltå‡½æ•°ï¼Œéå¸¸æ–¹ä¾¿ã€‚</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">reshape</span><span class="p">)</span><span class="w">
</span><span class="n">reshape_data</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">function</span><span class="p">(</span><span class="n">dt</span><span class="p">){</span><span class="w">

  </span><span class="n">dt</span><span class="o">$</span><span class="n">time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">1</span><span class="o">:</span><span class="n">nrow</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="w">

  </span><span class="n">dt</span><span class="o">=</span><span class="w"> </span><span class="n">melt</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="n">id</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nf">c</span><span class="p">(</span><span class="s2">"time"</span><span class="p">))</span><span class="w">

  </span><span class="n">dt</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">subset</span><span class="p">(</span><span class="n">dt</span><span class="p">,</span><span class="w"> </span><span class="nf">is.na</span><span class="p">(</span><span class="n">dt</span><span class="o">$</span><span class="n">value</span><span class="p">)</span><span class="o">==</span><span class="kc">FALSE</span><span class="p">)</span><span class="w">

  </span><span class="nf">return</span><span class="p">(</span><span class="n">dt</span><span class="p">)</span><span class="w">

</span><span class="p">}</span><span class="w">

</span><span class="err">â€‹</span><span class="w">

</span><span class="n">p1000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reshape_data</span><span class="p">(</span><span class="n">p1000</span><span class="p">)</span><span class="w">

</span><span class="n">p1500</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reshape_data</span><span class="p">(</span><span class="n">p1500</span><span class="p">)</span><span class="w">

</span><span class="n">p2000</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">reshape_data</span><span class="p">(</span><span class="n">p2000</span><span class="p">)</span><span class="w">

</span><span class="n">p1000</span><span class="o">$</span><span class="n">Group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'P = 1000'</span><span class="w">

</span><span class="n">p1500</span><span class="o">$</span><span class="n">Group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'P = 1500'</span><span class="w">

</span><span class="n">p2000</span><span class="o">$</span><span class="n">Group</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'P = 2000'</span><span class="w">

</span><span class="n">dat</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rbind</span><span class="p">(</span><span class="n">p1000</span><span class="p">,</span><span class="w"> </span><span class="n">p1500</span><span class="p">,</span><span class="w"> </span><span class="n">p2000</span><span class="p">)</span><span class="w">
</span></code></pre></div></div>

<p>ç¬¬ä¸‰æ­¥ï¼Œå½“æ•°æ®å‡†å¤‡å¥½ä¹‹åï¼Œå°±æ˜¯å¯è§†åŒ–äº†ã€‚</p>

<p>è¿™é‡Œçš„éš¾ç‚¹æ˜¯ï¼Œæˆ‘è¦åœ¨ä¸€å¼ å›¾é‡Œå±•ç°ä¸‰ä¸ªæ¡ä»¶ä¸‹çš„ç»“æœï¼ŒåŒæ—¶æˆ‘ä»¬çŸ¥é“æ¯ä¸ªæ¡ä»¶ä¸‹æœ‰100æ¡æ—¶é—´åºåˆ—ã€‚ä¸ºäº†æ›´ç»†èŠ‚åœ°å±•ç°åœ¨æ¯ä¸ªæ—¶é—´ç‚¹çš„æ³¢åŠ¨æƒ…å†µï¼Œæˆ‘ä½¿ç”¨äº†ç®±å›¾ï¼ˆboxplotï¼‰çš„æ–¹æ³•ã€‚</p>

<p>åœ¨ggplot2å½“ä¸­ï¼Œéœ€è¦å°†xè½´å˜é‡çš„æ—¶é—´è½¬æˆfactorï¼Œä½†æ˜¯è¿™ä¸ªæ—¶å€™æœ‰ä¸€ä¸ªé—®é¢˜ï¼Œxè½´çš„xlabå¤ªå¤šäº†â€‹â€‹ï¼Œæœ‰ä¸¤ç™¾å¤šä¸ªï¼Œæ€ä¹ˆåŠå‘¢ï¼Ÿæ‰‹å·¥è®¾ç½®å§ï¼Œä½¿ç”¨scale_x_discreteã€‚ è¿™é‡Œè¿˜éšè—ç€ä¸€ä¸ªå¤„ç†ä¸­æ–‡çš„é—®é¢˜ï¼Œåœ¨theme_bw()å½“ä¸­ï¼Œè®¾ç½®base_family = â€˜STHeitiâ€™ï¼Œè¿™æ ·å°±ä»¥é»‘ä½“æ˜¾ç¤ºäº†ï¼ŒåŒæ ·å¯ä»¥è®¾ç½®ä¸ºæ¥·ä½“ï¼Œbase_family = â€˜STKaitiâ€™ã€‚</p>

<p>â€‹</p>

<div class="language-r highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">library</span><span class="p">(</span><span class="n">ggplot2</span><span class="p">)</span><span class="w">

</span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ggplot</span><span class="p">(</span><span class="n">dat</span><span class="p">)</span><span class="o">+</span><span class="w">

  </span><span class="n">geom_boxplot</span><span class="p">(</span><span class="n">aes</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="n">as.factor</span><span class="p">(</span><span class="n">time</span><span class="p">),</span><span class="w"> </span><span class="n">y</span><span class="o">=</span><span class="n">value</span><span class="p">,</span><span class="w"> </span><span class="n">color</span><span class="o">=</span><span class="w"> </span><span class="n">Group</span><span class="p">),</span><span class="w">

               </span><span class="n">position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">position_dodge</span><span class="p">(</span><span class="n">width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">.9</span><span class="p">),</span><span class="w">

               </span><span class="n">outlier.shape</span><span class="o">=</span><span class="kc">NA</span><span class="p">)</span><span class="o">+</span><span class="w">

  </span><span class="n">scale_x_discrete</span><span class="p">(</span><span class="n">breaks</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="m">50</span><span class="p">,</span><span class="w"> </span><span class="m">100</span><span class="p">,</span><span class="w"> </span><span class="m">150</span><span class="p">,</span><span class="w"> </span><span class="m">200</span><span class="p">),</span><span class="w">

                   </span><span class="n">labels</span><span class="o">=</span><span class="nf">c</span><span class="p">(</span><span class="s2">"50"</span><span class="p">,</span><span class="w"> </span><span class="s2">"100"</span><span class="p">,</span><span class="w"> </span><span class="s2">"150"</span><span class="p">,</span><span class="w"> </span><span class="s2">"200"</span><span class="p">))</span><span class="o">+</span><span class="w">

  </span><span class="n">xlab</span><span class="p">(</span><span class="s2">"æ—¶é—´"</span><span class="p">)</span><span class="o">+</span><span class="n">ylab</span><span class="p">(</span><span class="s2">"æ²‰é»˜çš„äººæ•°"</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w">

  </span><span class="n">theme_bw</span><span class="p">(</span><span class="n">base_family</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">'STHeiti'</span><span class="p">,</span><span class="w"> </span><span class="n">base_size</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">14</span><span class="p">)</span><span class="w"> </span><span class="c1">#+facet_wrap(~Group)</span><span class="w">

</span><span class="n">c</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">facet_grid</span><span class="p">(</span><span class="n">Group</span><span class="w"> </span><span class="o">~</span><span class="w"> </span><span class="n">.</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">theme</span><span class="p">(</span><span class="n">legend.position</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"none"</span><span class="p">)</span><span class="w">

</span><span class="n">c</span><span class="w">
</span></code></pre></div></div>

<p><img src="http://oaf2qt3yk.bkt.clouddn.com/275257d1806afc5be0e247e21f5e4c34.png" alt="ggplot2_sos" /></p>
:ET